<!DOCTYPE html>
<html>
  <head>
	<title>Polil&iacute;nea - Ejemplo del API JavaScript de Google Maps v3</title>
    <style type="text/css">
      html, body { height: 100%; margin: 0; padding: 0; }
      #map_frame { height: 100%; }
    </style>
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?callback=initMap&key=AIzaSyAaBo7bx5QaWY44Z4In3u8BNLGJxHiiLzs">
    </script>
    <script type="text/javascript">
	var poly;
	var map;
	function initMap() {
		var oviedo_eii = new google.maps.LatLng(43.354810,-5.851805);
		var misOpciones = {
		  center: oviedo_eii,
		  zoom: 14,
		  mapTypeId: google.maps.MapTypeId.ROADMAP,
		  disableDefaultUI: true
		};
	    map = new google.maps.Map(document.getElementById("map_frame"), misOpciones);
	  
		var polyOptions = {
			strokeColor: '#000000',
			strokeOpacity: 1.0,
			strokeWeight: 3
		}
		poly = new google.maps.Polyline(polyOptions);
		poly.setMap(map);

		// A�ade un receptor del evento click
		google.maps.event.addListener(map, 'click', addLatLng);
	}

	/**
	* Maneja el evento click en el mapa, y a�ade un nuevo punto a la polilinea
	* @param {event} Evento de rat�n
	*/
	function addLatLng(event) {

		var path = poly.getPath();

		// A�adimos la nueva cordenada a la trayectoria y autom�ticamente aparecer�
		// ya que es un MVCArray
		path.push(event.latLng);

	}

    </script>
  </head>

  <body>
    <div id="map_frame"></div>
  </body>
</html>

