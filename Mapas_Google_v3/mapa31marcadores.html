<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<title>Marcadores crear, ocultar, eliminar - Ejemplo API Google Maps v3: Capas</title>
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?callback=initMap&key=AIzaSyAaBo7bx5QaWY44Z4In3u8BNLGJxHiiLzs">
    </script>
<script type="text/javascript">
	var map;
	var markersArray = [];

	function initMap() {
		var latlng = new google.maps.LatLng(43.354810,-5.851805);
		var misOpciones = {
			zoom: 14,
			center: latlng,
			mapTypeId: google.maps.MapTypeId.TERRAIN
		};
		map = new google.maps.Map(document.getElementById("map_frame"), misOpciones);

		google.maps.event.addListener(map, 'click', function(event) {
		  addMarker(event.latLng);
		});
	}

	function addMarker(location) {
		marker = new google.maps.Marker({
			position: location,
			map: map
		});
		markersArray.push(marker);
	}

	// Elimina los marcadores del mapa; pero los mantiene en el array
	function clearOverlays() {
		if (markersArray) {
			for (i in markersArray) {
				markersArray[i].setMap(null);
			}
		}
	}

	// Muestra todos los marcadores que estï¿½n en el array
	function showOverlays() {
		if (markersArray) {
			for (i in markersArray) {
				markersArray[i].setMap(map);
			}
		}
	}

	// Borra todos los marcadores en el array borrando las referencias 
	function deleteOverlays() {
		if (markersArray) {
			for (i in markersArray) {
				markersArray[i].setMap(null);
			}
			markersArray.length = 0;
		}
	}

</script>
</head>
<body>
  <div>
    <input onclick="clearOverlays();" type=button value="Oculta marcadores"/>
    <input onclick="showOverlays();" type=button value="Muestra todos los marcadores"/>
    <input onclick="deleteOverlays();" type=button value="Elimina marcadores"/> 
  </div> 
  <div id="map_frame" style="top:30px;width:600px; height:500px"></div> 
</body>
</html>